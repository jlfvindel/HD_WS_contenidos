{"version":1,"kind":"Article","sha256":"5872aa9630559186cf1fc5d9150999bd287ba784e97aec06ce48bba8a36fe149","slug":"select-nobel-grupos-patrones","location":"/select_nobel_grupos_patrones.md","dependencies":[],"frontmatter":{"title":"Composición de patrones","content_includes_title":false,"authors":[{"nameParsed":{"literal":"José Luis Fernández Vindel","given":"José Luis Fernández","family":"Vindel"},"name":"José Luis Fernández Vindel","affiliations":["UNED"],"id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"affiliations":[{"id":"UNED","name":"UNED"}],"numbering":{"title":{"offset":2}},"exports":[{"format":"md","filename":"select_nobel_grupos_patrones.md","url":"/select_nobel_grupos_-ac01c18ade5f49e50b03eb7a13272ccc.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Un único patrón","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"digO6V7KQo"}],"identifier":"un-nico-patr-n","label":"Un único patrón","html_id":"un-nico-patr-n","implicit":true,"key":"VtYaZQmVfk"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"El patrón de búsqueda puede constar de tantos enunciados como se requiera y entre estos enunciados aparecen variables (?var1, ..., ?varn). La siguiente consulta utiliza un patrón de búsqueda con tres enunciados entre los que aparecen tres variables.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"s6NWkjltSz"}],"key":"lpDxJiQVhJ"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consulta: Premiados, con su Premio y año de concesión","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WKsMirIVmH"}],"key":"hm25laZobJ"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\n\nSELECT DISTINCT ?premiado ?suPremio ?año\nWHERE {\n    ?premiado rdf:type nobel:Laureate .        #1\n    ?premiado nobel:nobelPrize ?suPremio .     #2\n    ?suPremio nobel:year ?año .                #3\n}\nORDER BY ?año","position":{"start":{"line":12,"column":1},"end":{"line":23,"column":1}},"key":"OOOIsKeebs"}],"class":"dropdown","label":"query-premiados-con-premio-y-año","identifier":"query-premiados-con-premio-y-año","open":true,"html_id":"query-premiados-con-premio-y-a-o","key":"U8nIeAY4Xv"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Estructura de la consulta","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"OefWBgkLBN"}],"key":"ZdMwXdR22K"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Si en el grafo del dataset se encontraran los nodos siguientes, el patrón de la consulta marcaría una ocurrencia para los valores (?premiado = premiado32, ?suPremio = premioNobel43,?año = “1982”). Y esta fila de resultados (premiado32, premioNobel43, “1983”) se añadiría a la tabla interna de concordancias, con columnas (?premiado, ?suPremio, ?año).","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"XWnDPRXDdD"}],"key":"l1ELtsUVws"},{"type":"mermaid","value":"flowchart LR\n    P32(premiado32) --> |type| L[Laureate]\n    P32 --> |nobelPrize| P43(premioNobel43)\n    P43 --> |year| A[[1982]]","position":{"start":{"line":31,"column":1},"end":{"line":36,"column":1}},"key":"l8KnkuZdt2"}],"class":"dropdown","open":true,"key":"X7PBMC77MF"},{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"strong","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Resultados","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"N2xu0boQGU"}],"key":"nDmxtpGYd8"},{"type":"text","value":". La ejecución de esta consulta en ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"AC7fOTaKCq"},{"type":"link","url":"https://data.nobelprize.org/sparql","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"https://​data​.nobelprize​.org​/sparql","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"C688rLyfl8"}],"urlSource":"https://data.nobelprize.org/sparql","key":"cAMGLBDpUT"},{"type":"text","value":" ofrece mil filas de concordancias.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"ZP7pd4VNR6"}],"key":"uA4dkdQPYh"},{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"La siguiente consulta añade una nueva restricción: los premiados, adicionalmente, deben ser de género femenino. Y sólo se admite una concordancia cuando ocurre en todos los enunciados. Es decir, los premiados con género masculino y aquéllos cuyo género no esté registrado no producen una fila de resultados en la tabla interna de concordancias.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"Ubn0A9CcXF"}],"key":"tBEXhm5nSa"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consulta: Premiados, con su Premio y año de concesión, siempre que su género sea femenino","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"HJst7vgUXJ"}],"key":"hO5wNLvjBj"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\n\nSELECT DISTINCT ?premiado ?suPremioNobel ?año\nWHERE {\n    ?premiado rdf:type nobel:Laureate .                                          #1\n    ?premiado nobel:nobelPrize ?suPremioNobel .                                  #2\n    ?suPremioNobel nobel:year ?año .                                             #3\n    ?premiado foaf:gender \"female\" .                                             #4\n}\nORDER BY ?año","position":{"start":{"line":47,"column":1},"end":{"line":60,"column":1}},"key":"Oef1aFHb9O"}],"class":"dropdown","label":"query-premiados-con-premio-y-año-femenino","identifier":"query-premiados-con-premio-y-año-femenino","open":true,"html_id":"query-premiados-con-premio-y-a-o-femenino","key":"QSu9tGKl3K"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"strong","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"Resultados","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"uS1uZinGCr"}],"key":"XjuGbwOnIB"},{"type":"text","value":". La ejecución de esta consulta en ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"tAVIQmAW3t"},{"type":"link","url":"https://data.nobelprize.org/sparql","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"https://​data​.nobelprize​.org​/sparql","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"xbm9UTL9o2"}],"urlSource":"https://data.nobelprize.org/sparql","key":"BHXPImPIIe"},{"type":"text","value":" se reduce ahora a poco más de sesenta filas de concordancias.","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"BQPnP69MeN"}],"key":"pYPVWNr5mJ"},{"type":"heading","depth":2,"position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"Grupos de patrones","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"v9EOxvT7ky"}],"identifier":"grupos-de-patrones","label":"Grupos de patrones","html_id":"grupos-de-patrones","implicit":true,"key":"cTJ8fMsBlN"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"Los enunciados en WHERE se pueden agrupar en bloques, rodeados sintácticamente por llaves. Si se acota más de un bloque, como por ejemplo {#1, #2, #3} {#4}, cada bloque actúa como un patrón de búsqueda independiente y produce resultados intermedios de ese bloque. Para calcular la respuesta final hay que precisar cómo combinar estos resultados intermedios.","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"eohNN3W0Pg"}],"key":"ZrnBKqi5iv"},{"type":"heading","depth":3,"position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"UNION","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"iEEBt8K3iH"}],"identifier":"union","label":"UNION","html_id":"union","implicit":true,"key":"PiZsmP5T1L"},{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"Una forma de combinar esos resultados es mediante la unión de los mismos. La siguiente consulta ejecuta esa unión.","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"noRjSGeXJG"}],"key":"uZwQU6Eoz8"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consulta: primer ejemplo de unión de resultados intermedios","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"Z1y7BJ4nvL"}],"key":"NpxT04EXYT"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\n\nSELECT DISTINCT ?premiado ?suPremioNobel ?año\nWHERE {\n  { ?premiado rdf:type nobel:Laureate .\n    ?premiado nobel:nobelPrize ?suPremioNobel .\n    ?suPremioNobel nobel:year ?año . }            # Grupo1\n  UNION\n  {  ?premiado foaf:gender \"female\" . }           # Grupo2\n}\nORDER BY ?premiado","position":{"start":{"line":80,"column":1},"end":{"line":94,"column":1}},"key":"HyEThQEvwX"}],"class":"dropdown","label":"query-union-patrones1","identifier":"query-union-patrones1","open":true,"html_id":"query-union-patrones1","key":"p3sm5OFBfd"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Estructura de la consulta y resultados","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"GB6quNBIBS"}],"key":"iXMnQJZ0ui"},{"type":"paragraph","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"text","value":"El primer patrón de búsqueda genera una tabla interna de concordancias con tres columnas (?premiado, ?suPremioNobel, ?año) y más de mil filas. El segundo patrón genera una tabla interna con una única columna (?premiado) y unas sesenta filas. Se solicita presentar la unión de estos resultados intermedios. Las filas del segundo patrón (sólo con resultado en la columna ?premiado) se pueden añadir directamente a la tabla del primero. Esto produce una tabla final como la siguiente:","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"LyRFItdNqt"}],"key":"HYA01aKlx6"},{"type":"math","value":"\\begin{array}{ccc}\n?premiado & ?suPremioNobel & \\text{?año} \\\\ \\hline\npremiado3 & Medicina & 1973 \\\\\npremiado5 & & \\\\\npremiado22 & \\text{Física} & 1982 \\\\\n... & ... & ... \\\\\n\\end{array}","enumerated":false,"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.16em\" columnalign=\"center center center\" columnspacing=\"1em\" rowlines=\"solid none none none\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo stretchy=\"false\">?</mo><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo stretchy=\"false\">?</mo><mi>s</mi><mi>u</mi><mi>P</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>o</mi><mi>N</mi><mi>o</mi><mi>b</mi><mi>e</mi><mi>l</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>?a</mtext><mover accent=\"true\"><mtext>n</mtext><mo>˜</mo></mover><mtext>o</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi><mn>3</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>M</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>c</mi><mi>i</mi><mi>n</mi><mi>a</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>1973</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi><mn>5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi><mn>22</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>F</mtext><mover accent=\"true\"><mtext>ı</mtext><mo>ˊ</mo></mover><mtext>sica</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>1982</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{array}{ccc}\n?premiado &amp; ?suPremioNobel &amp; \\text{?año} \\\\ \\hline\npremiado3 &amp; Medicina &amp; 1973 \\\\\npremiado5 &amp; &amp; \\\\\npremiado22 &amp; \\text{Física} &amp; 1982 \\\\\n... &amp; ... &amp; ... \\\\\n\\end{array}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6em;vertical-align:-2.75em;\"></span><span class=\"mord\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:5.25em;\"></span><span class=\"mtable\"><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mclose\">?</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span></span></span><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span><span class=\"mord\">3</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span><span class=\"mord\">5</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span><span class=\"mord\">22</span></span></span><span style=\"top:-0.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">...</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mclose\">?</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mi</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">ina</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">F</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord latin_fallback\">ı</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">ˊ</span></span></span></span></span></span></span><span class=\"mord\">sica</span></span></span></span><span style=\"top:-0.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">...</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">?a</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">n</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">˜</span></span></span></span></span></span></span><span class=\"mord\">o</span></span></span></span><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1973</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1982</span></span></span><span style=\"top:-0.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">...</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span></span></span><span style=\"top:-7.3em;\"><span class=\"pstrut\" style=\"height:5.25em;\"></span><span class=\"hline\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span></span></span>","key":"ug7NFgiejY"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Se puede ejecutar la pregunta en ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"mTdFbwZ5Xx"},{"type":"link","url":"https://data.nobelprize.org/sparql","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"https://​data​.nobelprize​.org​/sparql","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"ny4FAJEmiL"}],"urlSource":"https://data.nobelprize.org/sparql","key":"BxNkfTOf6U"},{"type":"text","value":" y se observa cómo hay filas sólo con valores en esa primera columna, que proceden del segundo patrón de consulta.","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"ATp4gQ5QHP"}],"key":"yNCozLztgC"}],"class":"dropdown","open":true,"key":"wwDBEICdy3"},{"type":"paragraph","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"Para resaltar la independencia de ambos patrones de búsqueda se recomienda ejecutar la siguiente consulta. Difiere de la anterior en que el segundo patrón almacena sus premiados en una variable distinta de la utilizada en el primer patrón.","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"CP8CPfk1yA"}],"key":"EIXTtfkyVl"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consulta: segundo ejemplo de unión de resultados intermedios","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"H6pU2Li4wu"}],"key":"E1tPIF9JML"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\n\nSELECT DISTINCT ?premiado ?premiadoFem ?suPremioNobel ?año\nWHERE {\n  { ?premiado rdf:type nobel:Laureate .\n    ?premiado nobel:nobelPrize ?suPremioNobel .\n    ?suPremioNobel nobel:year ?año . }                # Grupo1\n  UNION\n  { ?premiadoFem foaf:gender \"female\" . \n    ?premiadoFem nobel:nobelPrize ?suPremioNobel . }  # Grupo2\n}\nORDER BY ?suPremioNobel","position":{"start":{"line":123,"column":1},"end":{"line":138,"column":1}},"key":"umYG8vl3tE"}],"class":"dropdown","label":"query-union-patrones2","identifier":"query-union-patrones2","open":true,"html_id":"query-union-patrones2","key":"nlNvGCtjBZ"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Estructura de la consulta y resultados","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"uo9W50DMIs"}],"key":"PUmbu14Nvj"},{"type":"paragraph","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"En este caso, los resultados intermedios producidos por el segundo patrón no se pueden agregar directamente sobre la tabla del primer patrón porque falta la columna ?premiadoFem. La tabla final resultante añade esa columa y tendría la siguiente estructura.","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"iVfLWQhiU8"}],"key":"X6ONNUXq4t"},{"type":"math","value":"\\begin{array}{cccc}\n?premiado & premiadoFem&  ?suPremioNobel & \\text{?a\\~no} \\\\ \\hline\npremiado3 & & Medicina & 1973 \\\\\n  & premiado5 &  \\text{Química} & \\\\\npremiado22 & & \\text{Física} & 1982 \\\\\n... & ... & ... & ...\\\\\n\\end{array}","enumerated":false,"tight":"before","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.16em\" columnalign=\"center center center center\" columnspacing=\"1em\" rowlines=\"solid none none none\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo stretchy=\"false\">?</mo><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi><mi>F</mi><mi>e</mi><mi>m</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo stretchy=\"false\">?</mo><mi>s</mi><mi>u</mi><mi>P</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>o</mi><mi>N</mi><mi>o</mi><mi>b</mi><mi>e</mi><mi>l</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>?a</mtext><mover accent=\"true\"><mtext>n</mtext><mo>˜</mo></mover><mtext>o</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi><mn>3</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>M</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>c</mi><mi>i</mi><mi>n</mi><mi>a</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>1973</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi><mn>5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>Qu</mtext><mover accent=\"true\"><mtext>ı</mtext><mo>ˊ</mo></mover><mtext>mica</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>d</mi><mi>o</mi><mn>22</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>F</mtext><mover accent=\"true\"><mtext>ı</mtext><mo>ˊ</mo></mover><mtext>sica</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>1982</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{array}{cccc}\n?premiado &amp; premiadoFem&amp;  ?suPremioNobel &amp; \\text{?a\\~no} \\\\ \\hline\npremiado3 &amp; &amp; Medicina &amp; 1973 \\\\\n  &amp; premiado5 &amp;  \\text{Química} &amp; \\\\\npremiado22 &amp; &amp; \\text{Física} &amp; 1982 \\\\\n... &amp; ... &amp; ... &amp; ...\\\\\n\\end{array}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6em;vertical-align:-2.75em;\"></span><span class=\"mord\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:5.25em;\"></span><span class=\"mtable\"><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mclose\">?</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span></span></span><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span><span class=\"mord\">3</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span><span class=\"mord\">22</span></span></span><span style=\"top:-0.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">...</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">m</span></span></span><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mia</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">o</span><span class=\"mord\">5</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">...</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mclose\">?</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">mi</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">ina</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Qu</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord latin_fallback\">ı</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">ˊ</span></span></span></span></span></span></span><span class=\"mord\">mica</span></span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">F</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord latin_fallback\">ı</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">ˊ</span></span></span></span></span></span></span><span class=\"mord\">sica</span></span></span></span><span style=\"top:-0.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">...</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">?a</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">n</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">˜</span></span></span></span></span></span></span><span class=\"mord\">o</span></span></span></span><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1973</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1982</span></span></span><span style=\"top:-0.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">...</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span></span></span><span style=\"top:-7.3em;\"><span class=\"pstrut\" style=\"height:5.25em;\"></span><span class=\"hline\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span></span></span>","key":"QOvyWeKx0g"},{"type":"paragraph","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Se puede ejecutar la consulta en ","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"roliosHUyv"},{"type":"link","url":"https://data.nobelprize.org/sparql","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"https://​data​.nobelprize​.org​/sparql","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"Xd6LNM0DkK"}],"urlSource":"https://data.nobelprize.org/sparql","key":"dqXN52t8bw"},{"type":"text","value":" y comprobar esta composición de resultados.","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"MgekKIPdDP"}],"key":"ywz6V1JUjO"}],"class":"dropdown","open":true,"key":"ql6nbTJQRT"},{"type":"heading","depth":3,"position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"text","value":"(Intersección)","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"IncRJWnAOt"}],"identifier":"id-intersecci-n","label":"(Intersección)","html_id":"id-intersecci-n","implicit":true,"key":"aTr3lt4Oxa"},{"type":"paragraph","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"Dados dos grupos, como en {#1, #2, #3} y {#4, #5}, se puede requerir como resultado final su interseccion; es decir, que sólo se muestren los resultados que aparecen por igual en ambos grupos. Sintácticamente esto se expresa simplemente escribiendo un grupo tras otro: {#1, #2, #3} {#4, #5}, pero esto es equivalente a requerir resultados de un único grupo con esos 5 enunciados como patrón {#1, #2, #3, #4, #5}.","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"x8WaRXHhxu"}],"key":"o1J1Q5VXda"},{"type":"heading","depth":3,"position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"OPTIONAL","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"nCNd99W83G"}],"identifier":"optional","label":"OPTIONAL","html_id":"optional","implicit":true,"key":"f1mIACnSyf"},{"type":"paragraph","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Hay premiados por la Fundación Nobel que no han fallecido (y por tanto, no tienen registrada una fecha de fallecimiento). También hay premiados que no tienen registrada afiliación a una universidad.","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"QTKNh74Q6T"}],"key":"oPqlo81C96"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consultas: tres ejemplos diferenciados del uso de OPTIONAL","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"Dn4yNaMpTh"}],"key":"p4w02Yfk94"},{"type":"paragraph","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"Esos resultados (con datos incompletos) no aparecen como respuesta a la siguiente consulta, como se puede comprobar.","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"o566QoGSkz"}],"key":"lTGUSeNCZH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":172,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"No van a aparecer filas en la tabla final sólo con valores en ?premiado y ?nombre y celda vacía en ?fechaFallec o en ?afiliación.","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"b6poRW5i45"}],"key":"ymejnETz2P"},{"type":"listItem","spread":true,"position":{"start":{"line":173,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"Para que una concordancia se añada a la tabla de resultados debe facilitar valores para esas 4 variables de forma que el patrón coincida en ese punto con el grafo de datos.","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"WZ9V34DA9o"}],"key":"ZSZKVM7xPg"}],"key":"vRelYFl0nj"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX dbp: <http://dbpedia.org/property/>\nPREFIX dbo: <http://dbpedia.org/ontology/>\n\nSELECT DISTINCT ?premiado ?nombre ?fechaFallec ?afiliación \nWHERE {\n  ?premiado rdf:type nobel:Laureate .                      # 1\n  ?premiado foaf:name ?nombre .                            # 2\n  ?premiado dbp:dateOfDeath ?fechaFallec .                 # 3\n  ?premiado dbo:affiliation ?afiliación .                  # 4\n}\nORDER BY ?premiado","position":{"start":{"line":175,"column":1},"end":{"line":190,"column":1}},"key":"wWGMC5uvE0"},{"type":"paragraph","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"El uso de OPTIONAL permite admitir filas de resultados con alguna celda en blanco (si se ha marcado como opcional). La siguiente consulta se resume como ","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"VzJZceoKWg"},{"type":"emphasis","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"“encuentra los resultados del patrón {#1,#2} y amplía cada caso con su ?fechaFallec (si la hubiera) y amplía cada caso con su ?afiliacion (si la hubiera)”","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"xoAux9zTg2"}],"key":"vMJCjL8Ym0"}],"key":"SpavwGjO0e"},{"type":"paragraph","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"Como resultado se obtiene una tabla en que necesariamente las filas deben presentar valores en las columnas ?premiado y ?nombre al tiempo que puede o no haber valor en ?fechaFallec e independientemente puede o no haber valor en ?afiliación.","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"Fwiia746h3"}],"key":"GLPaaXLv6E"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX dbp: <http://dbpedia.org/property/>\nPREFIX dbo: <http://dbpedia.org/ontology/>\n\nSELECT DISTINCT ?premiado ?nombre ?fechaFallec ?afiliación \nWHERE {\n  ?premiado rdf:type nobel:Laureate .                      # 1\n  ?premiado foaf:name ?nombre .                            # 2\n  OPTIONAL {?premiado dbp:dateOfDeath ?fechaFallec .}      # Adicional 3\n  OPTIONAL {?premiado dbo:affiliation ?afiliación .}       # Adicional 4\n}\nORDER BY ?premiado","position":{"start":{"line":196,"column":1},"end":{"line":211,"column":1}},"key":"m2UyoCfcHn"},{"type":"paragraph","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"text","value":"En la consulta anterior se usaron dos OPTIONAL para independizar la existencia de la fecha de fallecimiento de la existencia de la afiliación. En la siguiente consulta se requieren resultados para {#1,#2} que se pueden ampliar con los obtenidos al ejecutar el patrón {#3,#4}. Pero este último patrón facilita resultados sólo cuando existe a la vez fecha de fallecimiento y afiliación. Así, la tabla de resultados finales presenta dos tipos de filas:","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"GpliisnTAn"}],"key":"UuMVgXNOWL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":214,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"children":[{"type":"text","value":"O bien aparecen valores en las 4 columnas","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"DrY4r68Dz4"}],"key":"ZW36Xd50EU"},{"type":"listItem","spread":true,"position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"text","value":"O bien faltan valores, a la vez, fecha de fallecimiento y afiliación","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"cNPrjLVCh0"}],"key":"gw9DctuoN3"},{"type":"listItem","spread":true,"position":{"start":{"line":216,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"text","value":"(No ocurrirá que pueda faltar independientemente tan sólo un valor entre fecha de fallecimiento y afiliación, como sí ocurría en la consulta previa).","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"WfqgN6Y8Sg"}],"key":"W51BgVUNka"}],"key":"bCiXTZVEt4"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX dbp: <http://dbpedia.org/property/>\nPREFIX dbo: <http://dbpedia.org/ontology/>\n\nSELECT DISTINCT ?premiado ?nombre ?fechaFallec ?afiliación \nWHERE {\n  ?premiado rdf:type nobel:Laureate .                      # 1\n  ?premiado foaf:name ?nombre .                            # 2\n  OPTIONAL {\n    ?premiado dbp:dateOfDeath ?fechaFallec .\n    ?premiado dbo:affiliation ?afiliación .\n  }                                                       # Adicional {3,4}\n}\nORDER BY ?premiado","position":{"start":{"line":218,"column":1},"end":{"line":235,"column":1}},"key":"Cmb6RoqRyI"}],"class":"dropdown","label":"query-ejemplos-optional","identifier":"query-ejemplos-optional","open":true,"html_id":"query-ejemplos-optional","key":"XbncYnJjf6"},{"type":"paragraph","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"text","value":"Estas tres consultas conviene ejecutarlas en ","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"gmWkeQ9UBF"},{"type":"link","url":"https://data.nobelprize.org/sparql","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"text","value":"https://​data​.nobelprize​.org​/sparql","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"aDBJJozB9e"}],"urlSource":"https://data.nobelprize.org/sparql","key":"t8LALs5Muu"},{"type":"text","value":", fijándose en cada caso en el número de resultados obtenidos y en los huecos presentes en cada fila.","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"lpIoknl683"}],"key":"rmTXgwnXPQ"},{"type":"heading","depth":3,"position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"children":[{"type":"text","value":"MINUS","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"LUngv3MSLr"}],"identifier":"minus","label":"MINUS","html_id":"minus","implicit":true,"key":"wmXQLefkTi"},{"type":"paragraph","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"children":[{"type":"text","value":"En una consulta del tipo ","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"hoPQLU1DqP"},{"type":"inlineCode","value":"{grupo1} MINUS {grupo2}","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"d7lZdU9IlJ"},{"type":"text","value":" se evalúan independientemente los resultados de ambos grupos. Se devuelven a lo sumo los resultados del grupo1, ","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"jwwPJO6ssT"},{"type":"emphasis","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"children":[{"type":"text","value":"descartando","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"bPg4lfdwUj"}],"key":"cTmJJlUm83"},{"type":"text","value":" tan sólo aquéllos que también aparecen en el grupo2.","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"JQFiYY5zDY"}],"key":"alm1bfJBIL"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consulta: descarte de resultados mediante MINUS","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"yL7NYn7j1W"}],"key":"WHRf49DbuS"},{"type":"paragraph","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"children":[{"type":"text","value":"Para apreciar mejor el proceso de resta se ejecuta la siguiente consulta en con MINUS y #4 comentados: se antepone un signo # y esas líneas no se consideran ejecutables (sólo se ejecutan #1, #2 y #3).","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"key":"xXbVLpg1tM"}],"key":"G3DfFR8M3o"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX dbp: <http://dbpedia.org/property/>\n\nSELECT DISTINCT ?reconocimiento ?premiado ?nombre\nWHERE {\n  { ?reconocimiento rdf:type nobel:LaureateAward .          #1\n    ?reconocimiento nobel:laureate ?premiado .              #2\n    ?premiado foaf:name ?nombre . }                         #3\n  # MINUS \n  # { ?premiado dbp:dateOfDeath ?fechaFallec .}             #4\n}\nORDER BY ?reconocimiento","position":{"start":{"line":251,"column":1},"end":{"line":266,"column":1}},"key":"fcV93IJuia"},{"type":"paragraph","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"text","value":"Cuando se ejecuta en ","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"ehZM64wOlz"},{"type":"link","url":"https://data.nobelprize.org/sparql","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"text","value":"https://​data​.nobelprize​.org​/sparql","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"mVXtSa0oY0"}],"urlSource":"https://data.nobelprize.org/sparql","key":"GjMnvz9W6m"},{"type":"text","value":" se obtienen poco más de mil resultados en la tabla (?reconocimiento, ?premiado, ?nombre). En estos resultados es irrelevante que tengan o no fecha de fallecimiento.","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"krYm2Ne9Pn"}],"key":"QTPfDBCfWw"},{"type":"paragraph","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"text","value":"La siguiente consulta construye una segunda tabla intermedia para el patrón {#4} con las columnas (?premiado, ?fechaFallecimiento). Las tablas para {#1,#2,#3} y {#4} tienen en común la variable ?premiado. En el resultado final, de la tabla para {#1,#2,#3} se eliminan las filas cuyo valor para ?premiado aparezca en la tabla de resultados para {#4}.","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"jHj8HqyGdr"}],"key":"WwUVp6WCGF"},{"type":"code","lang":"SPARQL","value":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX nobel: <http://data.nobelprize.org/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX dbp: <http://dbpedia.org/property/>\n\nSELECT DISTINCT ?reconocimiento ?premiado ?nombre\nWHERE {\n  { ?reconocimiento rdf:type nobel:LaureateAward .          #1\n    ?reconocimiento nobel:laureate ?premiado .              #2\n    ?premiado foaf:name ?nombre . }                         #3\n  MINUS \n  { ?premiado dbp:dateOfDeath ?fechaFallec .}               #4\n}\nORDER BY ?reconocimiento","position":{"start":{"line":271,"column":1},"end":{"line":286,"column":1}},"key":"dOvjTyga2n"},{"type":"paragraph","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Si se ejecuta esta consulta con MINUS en ","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"fYH2MLr1Q6"},{"type":"link","url":"https://data.nobelprize.org/sparql","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"https://​data​.nobelprize​.org​/sparql","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"R1vqh0O2vu"}],"urlSource":"https://data.nobelprize.org/sparql","key":"UtXb70M0qy"},{"type":"text","value":" se obtendrán los resultados de la consulta anterior excepto aquéllos con fecha de fallecimiento. Es decir, esta consulta tan sólo facilita los premiados vivos de la tabla anterior.","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"c74jQ9ozzp"}],"key":"HKxv0YPLas"}],"class":"dropdown","label":"query-ejemplo-minus","identifier":"query-ejemplo-minus","open":true,"html_id":"query-ejemplo-minus","key":"QhNDTcVhSb"}],"key":"PXKUp82ivX"}],"key":"CAy1aBXPI3"},"references":{"cite":{"order":[],"data":{}}}}