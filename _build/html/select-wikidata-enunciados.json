{"version":1,"kind":"Article","sha256":"a1c201348e35204b23de8f541904c7a6abde621feeb42290f594ccaf4c6de316","slug":"select-wikidata-enunciados","location":"/select_wikidata_enunciados.md","dependencies":[],"frontmatter":{"title":"Enunciados en Wikidata","content_includes_title":false,"authors":[{"nameParsed":{"literal":"José Luis Fernández Vindel","given":"José Luis Fernández","family":"Vindel"},"name":"José Luis Fernández Vindel","affiliations":["UNED"],"id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"affiliations":[{"id":"UNED","name":"UNED"}],"numbering":{"title":{"offset":2}},"exports":[{"format":"md","filename":"select_wikidata_enunciados.md","url":"/build/select_wikidata_enun-8db196849b89204c4d68bb389a2dcfa1.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Los identificadores en Wikidata no son legibles (en algún idioma). Comienzan por un prefijo propio (mayoritariamente wd: o wdt:) y finalizan ese identificador URI por Qxxx o por Pxxx. Los siguientes enunciados, tal y como se codifican en Wikidata, se representan en el grafo posterior.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"M6o87g3G8J"}],"key":"okrqYlKM7J"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"\"<Francia (Q142)> <tiene por capital (P36)> <París (Q90)>","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"diPzicte9W"}],"key":"wtBHW447pj"}],"key":"V0V81tIaAL"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"<Francia (Q142)> <tiene una población (P1028) de> 68.000.000\"","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"gTqp4GLef7"}],"key":"GYcXl3kpfH"},{"type":"text","value":".","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"OyZmVwOirp"}],"key":"ksrOreQHmQ"}],"key":"G7daEfxKht"},{"type":"mermaid","value":"flowchart LR\n    F(\"wd:Q142\") --> |\"wdt:P36\"| P(\"wd:Q90\")\n    P --> |\"rdfs:label\"| PL[[\"'París'@es\"]]\n    F --> |\"rdfs:label\"| FL[[\"'Francia'@es\"]]\n    F --> |\"wdt:P1082\"| NL[[\"'68.000.000'\"]]","position":{"start":{"line":8,"column":1},"end":{"line":14,"column":1}},"key":"qJxWNjvvRI"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Adicionalmente, se han añadido enunciados que asignan una etiqueta textual (rdfs:label), en español en este caso. Formalmante, las tripletas almacenadas son:","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Py3ZOCdJ5C"}],"key":"r5kY6KbLmU"},{"type":"code","lang":"SPARQL","value":"PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nwd:Q142 wdt:P36 wd:Q90 .\nwd:Q142 wdt:P1082 \"68.000.000\" .\nwd:Q142 rdfs:label \"Francia\"@es .\nwd:Q90 rdfs:label \"París\"@es .","position":{"start":{"line":18,"column":1},"end":{"line":27,"column":1}},"key":"JIpHTpxUyg"},{"type":"heading","depth":2,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Identificadores en Wikidata","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"j1TtQtTwcy"}],"identifier":"identificadores-en-wikidata","label":"Identificadores en Wikidata","html_id":"identificadores-en-wikidata","implicit":true,"key":"sGX6yDJkbC"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Los identificadores del ejemplo anterior son direcciones URL que comienzan con espacios de nombre propios de Wikidata (wd, wdt) y alguno ajeno (rdfs). Y, en el caso de los datos propios de Wikidata, finalizan por un código Q (Q142 ó Q90) o un código P (P36, P1082).","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"H0JdOiZJKG"}],"key":"YzJr5uSGPR"},{"type":"heading","depth":3,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Q-ítems","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"kpt3kjBxUy"}],"identifier":"q-tems","label":"Q-ítems","html_id":"q-tems","implicit":true,"key":"BVmh0bIzUt"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Cada concepto que se describe en Wikidata, con enunciados sobre ese sujeto, tiene asignado un código Q numerado. Estos conceptos descritos en Wikidata se conocen como ítems. Todos ellos se agrupan en un mismo espacio de nombres (wd).","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"RrzzxlLoTL"}],"key":"ydvooSGj1E"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"inlineCode","value":"<http://www.wikidata.org/entity/Q142>","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"E2jKEFOc1e"},{"type":"text","value":" , abreviado como ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"iQ77wfPkqA"},{"type":"inlineCode","value":"wd:Q142","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"eTqxPxBfC9"},{"type":"text","value":", es el identificador fijo y público de ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"FApdWLWtdt"},{"type":"emphasis","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Francia","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"SiGfWlbAFG"}],"key":"K4mEUdYarH"},{"type":"text","value":" en Wikidata","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"lMYUdZgjOs"}],"key":"fJkheehozY"}],"key":"oqPbAN41dG"},{"type":"heading","depth":3,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"P-propiedades","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"qpzokkWz65"}],"identifier":"p-propiedades","label":"P-propiedades","html_id":"p-propiedades","implicit":true,"key":"stJLAKf3P2"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Cada propiedad que se utiliza en Wikidata tienen asignado un código P numerado. El mismo código P se puede ver precedido de distintos espacios de nombre, para diferenciar sus usos sintácticos. De momento nos restringimos al uso de la propiedad en enunciados directos (wdt):","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"eiGtzhVq6c"}],"key":"vVHsU2isXl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"inlineCode","value":"<X> <http://www.wikidata.org/prop/direct/P36> <Y>","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"wLoIjBpHYc"},{"type":"text","value":", abreviado como ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"J0OFJ5em7A"},{"type":"inlineCode","value":"wdt:P36","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"q8xyOu0t1V"},{"type":"text","value":", es el identificador de la propiedad ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"NRNQ0fsnQd"},{"type":"emphasis","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"tiene_capital","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"qc1TcXlCcZ"}],"key":"yKT97gPV0a"},{"type":"text","value":" cuando se usa en enunciados directos, para asignar a X su capital Y.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"LrVuIZilBz"}],"key":"tdfE7guwiX"}],"key":"uwosxs4tql"},{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"Conviene resaltar que ","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"ca3YBzwn6k"},{"type":"emphasis","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"tiene_capital","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"sVucnylPN3"}],"key":"SmOTaXzy0s"},{"type":"text","value":", aparte de su uso funcional como propiedad, es en sí mismo un concepto del que se pueden declarar enunciados que lo describen, donde aparece como sujeto. En este caso, P36 como sujeto aparece con el mismo espacio de nombres que el resto de los ítems de Wikidata (wd).","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"JtJxU1ORER"}],"key":"ZOgv3E6Vf6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":41,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"inlineCode","value":"<http://www.wikidata.org/entity/P36>","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"EViUcNlzrk"},{"type":"text","value":", abreviado como ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"O7bn0STCaf"},{"type":"inlineCode","value":"wd:P36","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"BTQJ0p607J"},{"type":"text","value":" es el identificador de ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"PfkNRTl2uZ"},{"type":"emphasis","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"tiene_capital","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"I1NtsOREk8"}],"key":"GS3LD3tD5A"},{"type":"text","value":" cuando aparece como sujeto en enunciados sobre este ítem.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"jeueZk41Vj"}],"key":"P77CaypSAw"}],"key":"AFppF8OHuc"},{"type":"heading","depth":2,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"Enunciados en Wikidata","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"RuoTsEatWZ"}],"identifier":"enunciados-en-wikidata","label":"Enunciados en Wikidata","html_id":"enunciados-en-wikidata","implicit":true,"key":"wQttiZW9TV"},{"type":"heading","depth":3,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Enunciados directos","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"D9W7yyoDTs"}],"identifier":"enunciados-directos","label":"Enunciados directos","html_id":"enunciados-directos","implicit":true,"key":"ZpQwfq6uai"},{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"La capitalidad de Francia se puede declarar en un enunciado directo, como ya se ha visto, o expresándola como una estructura RDF más compleja, mediante reificación o como relación n-aria. Como enunciado directo tiene la siguiente expresión.","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"zdBJmw7MeW"}],"key":"KmrYCsez75"},{"type":"aside","kind":"topic","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Enunciados RDF en Wikidata: Francia tiene por capital París","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"R4gcay8MV9"}],"key":"eCAYHaB3rR"},{"type":"code","lang":"SPARQL","value":"PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\nwd:Q142 wdt:P36 wd:Q90 .","position":{"start":{"line":49,"column":1},"end":{"line":54,"column":1}},"key":"Ix6HI9eovg"}],"key":"voLkFfG3zr"},{"type":"mermaid","value":"flowchart LR\n    F(\"wd:Q142\") --> |\"wdt:P36\"| P(\"wd:Q90\")","position":{"start":{"line":57,"column":1},"end":{"line":60,"column":1}},"key":"i0NAHncqem"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"La siguiente consulta SPARQL pregunta por el valor de la variable ?capital para ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"ZQjTvl3xb7"},{"type":"emphasis","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"Francia","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"dL4STFV1ba"}],"key":"TAIV0BRQoT"},{"type":"text","value":". Y de este valor solicita todas sus etiquetas, de las que tan sólo se queda con la etiqueta en español. El único resultado de la consulta es: ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"uoloWt5vPY"},{"type":"emphasis","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"(wd:Q90, “París”@es)","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"LBBiDL01BD"}],"key":"jZV7HoS4X3"}],"key":"tv3b83aQbO"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consulta: capital de Francia, con su etiqueta en español","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"fIxii8pvFz"}],"key":"w5hFBiwlkj"},{"type":"code","lang":"SPARQL","value":"PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT ?capital ?capitalEtiq\nWHERE {\n  wd:Q142 wdt:P36 ?capital .\n  ?capital rdfs:label ?capitalEtiq .\n  FILTER(LANG(?capitalEtiq)=\"es\")\n}","position":{"start":{"line":69,"column":1},"end":{"line":80,"column":1}},"key":"nhPiBqLyEj"}],"class":"dropdown","label":"query-capital-francia-wdt","identifier":"query-capital-francia-wdt","open":true,"html_id":"query-capital-francia-wdt","key":"TLDxBKUXFr"},{"type":"paragraph","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"strong","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"Ejecución de la consulta","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"spcBjc7oFC"}],"key":"eyYr3UPKWH"}],"key":"kuxXoRIUzD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"Se puede copiar, pegar y ejecutar esta consulta en ","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"fACp3AV69Q"},{"type":"link","url":"https://query.wikidata.org/","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"https://​query​.wikidata​.org/","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"XtSFLtvdkp"}],"urlSource":"https://query.wikidata.org/","key":"d9ZD7kvRkA"},{"type":"text","value":".","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"XpFHySEJGu"}],"key":"ZbVsZ2ENoC"},{"type":"listItem","spread":true,"position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"Tras una ejecución, se obtuvo allí el enlace ","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"tyS3Lg51OM"},{"type":"link","url":"https://w.wiki/6egu","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"https://w.wiki/6egu","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"DRS5D9vAdb"}],"urlSource":"https://w.wiki/6egu","key":"U4OKYZVWtr"},{"type":"text","value":", que  transmite esta consulta a esa dirección y nos sitúa en ese interfaz para ejecutarla.","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"n2M0D4aeEh"}],"key":"nkHqf0pxiB"}],"key":"j50Wut6wLJ"},{"type":"code","lang":"","value":"\n### Enunciados indirectos\nEn principio, Wikidata no almacena inicialmente un enunciado como *wd:Q142 wdt:P36 wd:Q90* (\"Francia tiene por capital París\") de forma directa. Utiliza una estructura de almacenamiento algo más compleja pero versátil:\n\n+ De Francia, 'acerca de su capitalidad' (p:P36), se afirma 'una sentencia' (nodo en blanco)\n  - y en esta 'sentencia' compuesta se asigna capitalidad (ps:P36) con valor París (wd:90)\n  - adicionalmente en esta 'sentencia' se asigna *desde fecha* (con valor ...)\n  - adicionalmente en esta 'sentencia' se asigna *hasta fecha* (con valor ...)\n  - adicionalmente es esta 'sentencia' se puede añadir *otra_propiedad* (con valor ...)\n  - ...\n\n```mermaid\nflowchart LR\n    F(wd:Q142) --> |\"p:P36, (sobre capitalidad)\"| B(\" \")\n    B --> |\"ps:P580 (desde fecha)\"| I1(\"...\")\n    B --> |\"ps:P36 (asigna capitalidad)\"| P(wd:Q90)\n    B --> |\"ps:P582 (hasta fecha)\"| I2(\"...\")\n    B --> |\"asigna_info_adicional\"| I3(\"...\")\n```\n\nEn resumen, sobre Francia y acerca de su capitalidad (p:P36) se enuncia un 'statement' complejo (un nodo en blanco, con identificador interno asignado por el sistema). Y en este nodo en blanco se van asignando valores a propiedades.\n+ Dentro del 'statement' la asignación del valor de capitalidad es `ps:P36` (con prefijo ps), mientras que externamente la propiedad `p:P36` conducía de Francia al statement sobre su capitalidad.\n+ De igual forma, otras propiedades Pxxx se usan con prefijo ps:Pxxx cuando asignan valores dentro de un statement (y se usan como p:Pxxx) cuando relacionan un término con un statement acerca de esa propiedad.\n\nOcurre que _Francia_ ha tenido históricamente varias capitales, alguna de ellas en el exilio durante la Segunda Guerra Mundial. Todas ellas se han registrado en Wikidata en su formato usual, como enunciado indirecto.  La siguiente consulta recorre los enunciados indirectos (los statements) sobre capitalidad de Francia y recupera más de uno. Por legilibidad de la consulta, no se pregunta por las fechas de inicio y fin.\n\n:::::{hint} Consulta: enunciados indirectos que asignan capitalidad a Francia\n:label: query-capital-francia-enunciados-indirectos\n:class: dropdown\n:open: \n```SPARQL\nSELECT ?stmt ?capital ?capitalEtiq\nWHERE {\n  wd:Q142 p:P36 ?stmt .\n  ?stmt ps:P36 ?capital .\n  ?capital rdfs:label ?capitalEtiq .\n  FILTER(LANG(?capitalEtiq)=\"es\")\n}\n```\n[Ejecución en Wikidata](https://w.wiki/DaC3)","position":{"start":{"line":86,"column":1},"end":{"line":127,"column":1}},"key":"lPbEihZYPy"},{"type":"paragraph","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Wikidata exporta como enunciados directos algunos de estos enunciados indirectos. La exportación se decide atendiendo a varios requisitos, entre los que se incluye la mayor verosimilitud o, en casos como el de capitalidades, manteniendo como enunciado directo tan sólo la capital actual. De esta forma, ","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"lLrE4hs2OJ"},{"type":"crossReference","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"se pudo ejecutar una consulta SPARQL sobre capitalidad","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"z1yctyHmrb"}],"identifier":"query-capital-francia-wdt","label":"query-capital-francia-wdt","kind":"admonition:hint","template":"{name}","resolved":true,"html_id":"query-capital-francia-wdt","key":"hyUYtD3bTq"},{"type":"text","value":" de Francia buscando enunciados directos (X wdt:P36 Y) y devolvía un solo resultado: su capital actual.","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"E16rLrVR9j"}],"key":"L7Dk2M3RLH"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Obviar los enunciados indirectos en una primera aproximación","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"NGa74PprEN"}],"key":"qOoXN1eaD8"},{"type":"paragraph","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Inicialmente se puede considerar que Wikidata expone toda su información en forma de enunciados directos ","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"SFu5WLNbeK"},{"type":"inlineCode","value":"<wd:Qxxx> <wdt:Pzzz> <wd:Qyyyy>","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"QXcGTai6RB"},{"type":"text","value":" y reservar para un uso más especializado la consulta a enunciados indirectos como ","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"tmdD3Masyb"},{"type":"inlineCode","value":"<wd:Qxxx> <p:Pzzz> <_:stmtK>","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"XOHwVtxTqu"},{"type":"text","value":" y ","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"PR5jqNyirZ"},{"type":"inlineCode","value":"<_:stmtK> <ps:Pzzzz> <wd:Qyyy>","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"Ljorwlbxvp"},{"type":"text","value":" (quizá con otras tripletas informativas añadidas desde _:stmtK).","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"QfPyBQCTAP"}],"key":"VrgFXauUnJ"}],"key":"FeUWLhZ8RP"},{"type":"heading","depth":2,"position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"Etiquetas en Wikidata","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"mj8ZARhXtX"}],"identifier":"etiquetas-en-wikidata","label":"Etiquetas en Wikidata","html_id":"etiquetas-en-wikidata","implicit":true,"key":"t7ZzgPuLhg"},{"type":"paragraph","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"text","value":"Cada Q-ítem en Wikidata tiene asignadas varias etiquetas textuales mediante tripletas ","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"CPfXOiVPlV"},{"type":"inlineCode","value":"<Qxxx> <prop> <etiqueta>","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"ddoU0H3gxF"},{"type":"text","value":". En concreto, por cada idioma, un ítem tiene asignadas:","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"elnc3LbcyT"}],"key":"YnJeJ1WJTn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":137,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"Una etiqueta textual principal (mediante la propiedad ","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"gQOx4B0WIn"},{"type":"inlineCode","value":"rdfs:label","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"gaWXr24zEL"},{"type":"text","value":")","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"JYkdlBh32C"}],"key":"lVuqUGwkMM"},{"type":"listItem","spread":true,"position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"Una descripción textual más extensa (mediante la propiedad ","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"L4IJ94DpkB"},{"type":"inlineCode","value":"schema:description","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"onRC1bJW3V"},{"type":"text","value":")","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"h7tWTSep4f"}],"key":"I32tJGJD8Z"},{"type":"listItem","spread":true,"position":{"start":{"line":139,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"Y opcionalmente varias etiquetas alternativas (mediante la propiedad ","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"mg2gSSFOZL"},{"type":"inlineCode","value":"skos:altLabel","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"xnTk2afPLr"},{"type":"text","value":")","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"fsTm5GjyA5"}],"key":"CJ1ze6LfEy"}],"key":"avU85NE9eK"},{"type":"paragraph","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"Todo ello posiblemente repetido para más de un idioma. La siguiente consulta demanda todas las etiquetas principales (rdfs:label) de ","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"N3H2JjchVS"},{"type":"emphasis","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"Francia","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"ack5PGNZd8"}],"key":"gSwpWxHevJ"},{"type":"text","value":" y adicionalmente extrae de ellas el idioma: por ejemplo, de “Francia”@es extrae ‘es’ (español).","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"QT6LAzYKnu"}],"key":"wAvGcLT0mw"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consulta: Etiquetas principales asociadas a Francia (Q142), con su idioma","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"rAuLTGNCRc"}],"key":"i302eh6MyV"},{"type":"code","lang":"SPARQL","value":"SELECT ?etiqueta ?idioma\nWHERE {\n  wd:Q142 rdfs:label ?etiqueta .\n  BIND(LANG(?etiqueta) AS ?idioma)\n}","position":{"start":{"line":147,"column":1},"end":{"line":153,"column":1}},"key":"x9WIXQCxZF"},{"type":"paragraph","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"link","url":"https://w.wiki/DaCX","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"Ejecución en Wikidata","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"ZdptOni6SB"}],"urlSource":"https://w.wiki/DaCX","key":"QxkqHYzLtF"}],"key":"UVdQCWmbot"}],"class":"dropdown","label":"query-francia-etiquetas","identifier":"query-francia-etiquetas","open":true,"html_id":"query-francia-etiquetas","key":"xPpFWY7f59"},{"type":"heading","depth":3,"position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"Filtrado por idiomas","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"k2TJnhdqVB"}],"identifier":"filtrado-por-idiomas","label":"Filtrado por idiomas","html_id":"filtrado-por-idiomas","implicit":true,"key":"VG6EnilzWx"},{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"En una consulta previa ya se ha mostrado como filtrar resultados por un idioma concreto utilizando FILTER. Wikidata ","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"npEpkaajKh"},{"type":"strong","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"facilita la consulta a un servicio adicional (específicamente indexado) para facilitar este filtrado por idiomas","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"VTkdhPeVSl"}],"key":"GmffztvY00"},{"type":"text","value":". Se utiliza en la siguiente consulta.","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"phsqZHSelT"}],"key":"REJijn7vN9"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Consulta: filtrado por idiomas más eficiente usanod wikibase:language","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"x1PD6epH4G"}],"key":"hrgAhH13hL"},{"type":"code","lang":"SPARQL","value":"SELECT ?capital ?capitalLabel ?capitalDescription ?capitalAltLabel\nWHERE {\n  wd:Q142 wdt:P36 ?capital .                                             #1\n  SERVICE wikibase:label { bd:serviceParam wikibase:language \"es,en\". }  #2\n}","position":{"start":{"line":165,"column":1},"end":{"line":171,"column":1}},"key":"TUu4MMnkYo"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"link","url":"https://w.wiki/6ehb","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Ejecución en Wikidata","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"xUsu7UqMfi"}],"urlSource":"https://w.wiki/6ehb","key":"lQNoXjo8tw"}],"key":"vVUvkxYX2l"}],"class":"dropdown","label":"query-servicio-wikibase-language","identifier":"query-servicio-wikibase-language","open":true,"html_id":"query-servicio-wikibase-language","key":"JJSrCXSqtD"},{"type":"paragraph","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"La llamada a este servicio (en #2) devuelve, ","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"YLEREPiqmk"},{"type":"strong","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"para cada valor de cada variable","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"OcwSHkTjJF"}],"key":"Iz1KEIM1Tr"},{"type":"text","value":" en WHERE, sus etiquetas en un idioma. El filtrado indica que se busquen etiquetas en español y, si no se encontraran, que se faciliten en inglés.","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"nal2BWHdma"}],"key":"WkPLcmSFmp"},{"type":"paragraph","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"Este servicio devuelve la etiqueta principal de una variable (?variable) en ","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"UKxiM4opPj"},{"type":"inlineCode","value":"?variableLabel","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"vmvxuYgIpl"},{"type":"text","value":", la descripción en ","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"R4KyWnHkLu"},{"type":"inlineCode","value":"?variableDescription","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"qI7s0Lr9J7"},{"type":"text","value":" y el conjunto agregado de etiquetas alternativas en ","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"IV5XR54Kx8"},{"type":"inlineCode","value":"?variableAltLabel","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"i7PFb2ytkd"},{"type":"text","value":". Es decir, para una variable discrecionalmente denominada ","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"GWh9mff1y3"},{"type":"inlineCode","value":"?capital","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"UbyyK2qX6R"},{"type":"text","value":" hay que buscar obligatoriamente estas etiquetas textuales en ","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"DHplLs27IW"},{"type":"inlineCode","value":"?capitalLabel","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"XS3uQ6IxwI"},{"type":"text","value":", ","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"xYfpdrynNk"},{"type":"inlineCode","value":"?capitalDescription","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"vHGEp5NXVn"},{"type":"text","value":", ","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"RTMVsWGIcs"},{"type":"inlineCode","value":"?capitalAltLabel","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"omMLYnIHeL"},{"type":"text","value":", que deben escribirse literalmente con esos sufijos.","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"ArXjkswy5S"}],"key":"AdS2GMkfLg"}],"key":"z0jFa76jZV"}],"key":"A1MGBNpWrd"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Consultas SELECT (Wikidata)","url":"/select-wikidata-intro","group":"Consultas SPARQL"},"next":{"title":"Página sobre cada ítem","url":"/select-wikidata-pagina-item","group":"Consultas SPARQL"}}},"domain":"http://localhost:3000"}